import { VueFiles, VueFile, EmbeddedFile, EmbeddedFileSourceMap, Teleport, Embedded } from '@volar/vue-typescript';
import { SourceMapBase, Mapping } from '@volar/source-map';
import { TextDocument } from 'vscode-languageserver-textdocument';
import { EmbeddedFileMappingData, TeleportMappingData, TeleportSideData } from '@volar/vue-code-gen';
import type * as vscode from 'vscode-languageserver-protocol';
import type * as _ from '@volar/vue-typescript/node_modules/@vue/reactivity';
export declare type VueDocuments = ReturnType<typeof parseVueDocuments>;
export declare type VueDocument = ReturnType<typeof parseVueDocument>;
export declare class SourceMap<Data = undefined> extends SourceMapBase<Data> {
    sourceDocument: TextDocument;
    mappedDocument: TextDocument;
    _mappings?: Mapping<Data>[] | undefined;
    constructor(sourceDocument: TextDocument, mappedDocument: TextDocument, _mappings?: Mapping<Data>[] | undefined);
    getSourceRange<T extends number | vscode.Position>(start: T, end?: T, filter?: (data: Data) => boolean): [{
        start: T;
        end: T;
    }, Data] | undefined;
    getMappedRange<T extends number | vscode.Position>(start: T, end?: T, filter?: (data: Data) => boolean): [{
        start: T;
        end: T;
    }, Data] | undefined;
    getSourceRanges<T extends number | vscode.Position>(start: T, end?: T, filter?: (data: Data) => boolean): Generator<[{
        start: T;
        end: T;
    }, Data], void, unknown>;
    getMappedRanges<T extends number | vscode.Position>(start: T, end?: T, filter?: (data: Data) => boolean): Generator<[{
        start: T;
        end: T;
    }, Data], void, unknown>;
    protected getRanges<T extends number | vscode.Position>(start: T, end: T, sourceToTarget: boolean, filter?: (data: Data) => boolean): Generator<[{
        start: T;
        end: T;
    }, Data], void, unknown>;
}
export declare class EmbeddedDocumentSourceMap extends SourceMap<EmbeddedFileMappingData> {
    embeddedFile: EmbeddedFile;
    sourceDocument: TextDocument;
    mappedDocument: TextDocument;
    constructor(embeddedFile: EmbeddedFile, sourceDocument: TextDocument, mappedDocument: TextDocument, _sourceMap: EmbeddedFileSourceMap);
}
export declare class TeleportSourceMap extends SourceMap<TeleportMappingData> {
    embeddedFile: EmbeddedFile;
    document: TextDocument;
    constructor(embeddedFile: EmbeddedFile, document: TextDocument, teleport: Teleport);
    findTeleports(start: vscode.Position, end?: vscode.Position, filter?: (data: TeleportSideData) => boolean): Generator<readonly [{
        start: vscode.Position;
        end: vscode.Position;
    }, TeleportSideData], void, unknown>;
}
export declare function parseVueDocuments(vueFiles: VueFiles): {
    getAll: () => {
        uri: string;
        file: VueFile;
        embeddedDocumentsMap: {
            get: (source: EmbeddedFile<unknown>) => TextDocument;
        };
        sourceMapsMap: {
            get: (source: Embedded) => EmbeddedDocumentSourceMap;
        };
        getSourceMaps: () => EmbeddedDocumentSourceMap[];
        getDocument: () => TextDocument;
        refs: {
            sourceMaps: _.ComputedRef<EmbeddedDocumentSourceMap[]>;
            teleports: _.ComputedRef<TeleportSourceMap[]>;
        };
    }[];
    get: (uri: string) => {
        uri: string;
        file: VueFile;
        embeddedDocumentsMap: {
            get: (source: EmbeddedFile<unknown>) => TextDocument;
        };
        sourceMapsMap: {
            get: (source: Embedded) => EmbeddedDocumentSourceMap;
        };
        getSourceMaps: () => EmbeddedDocumentSourceMap[];
        getDocument: () => TextDocument;
        refs: {
            sourceMaps: _.ComputedRef<EmbeddedDocumentSourceMap[]>;
            teleports: _.ComputedRef<TeleportSourceMap[]>;
        };
    } | undefined;
    fromEmbeddedDocument: (document: TextDocument) => {
        uri: string;
        file: VueFile;
        embeddedDocumentsMap: {
            get: (source: EmbeddedFile<unknown>) => TextDocument;
        };
        sourceMapsMap: {
            get: (source: Embedded) => EmbeddedDocumentSourceMap;
        };
        getSourceMaps: () => EmbeddedDocumentSourceMap[];
        getDocument: () => TextDocument;
        refs: {
            sourceMaps: _.ComputedRef<EmbeddedDocumentSourceMap[]>;
            teleports: _.ComputedRef<TeleportSourceMap[]>;
        };
    } | undefined;
    sourceMapFromEmbeddedDocumentUri: (uri: string) => EmbeddedDocumentSourceMap | undefined;
    teleportfromEmbeddedDocumentUri: (uri: string) => TeleportSourceMap | undefined;
    fromEmbeddedLocation: (uri: string, start: vscode.Position, end?: vscode.Position, filter?: ((data: EmbeddedFileMappingData) => boolean) | undefined, sourceMapFilter?: ((sourceMap: EmbeddedFileSourceMap) => boolean) | undefined) => Generator<{
        uri: string;
        range: {
            start: vscode.Position;
            end: vscode.Position;
        };
        sourceMap: EmbeddedDocumentSourceMap;
        data: EmbeddedFileMappingData;
    } | {
        uri: string;
        range: {
            start: vscode.Position;
            end: vscode.Position;
        };
        sourceMap?: undefined;
        data?: undefined;
    }, void, unknown>;
};
export declare function parseVueDocument(vueFile: VueFile): {
    uri: string;
    file: VueFile;
    embeddedDocumentsMap: {
        get: (source: EmbeddedFile<unknown>) => TextDocument;
    };
    sourceMapsMap: {
        get: (source: Embedded) => EmbeddedDocumentSourceMap;
    };
    getSourceMaps: () => EmbeddedDocumentSourceMap[];
    getDocument: () => TextDocument;
    refs: {
        sourceMaps: _.ComputedRef<EmbeddedDocumentSourceMap[]>;
        teleports: _.ComputedRef<TeleportSourceMap[]>;
    };
};
export declare function useCacheMap<T extends object, K>(parse: (t: T) => K): {
    get: (source: T) => K;
};
